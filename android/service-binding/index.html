<!DOCTYPE html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if IE 7 ]><html class="no-js ie ie7" lang="en"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie ie8" lang="en"><![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
  <head>
    <meta charset="utf-8">
      
      <title>Service Binding - Android SDK - Geoloqi Developers</title>
    
    

    

    

    <script src="/js/libs/modernizr.js"></script>
    
    <link rel='stylesheet' href='/assets/main.046639.css' />
    
       
  
    
    
   	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
		<script>window.jQuery || document.write('<script src="/geoloqi-common/js/libs/jquery-1.6.1.min.js">\x3C/script>')</script>

      <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-25750303-2']);
    _gaq.push(['_trackPageview']);


    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


    <link rel="pingback" href="http://pingback.me/geoloqi/xmlrpc" />
  </head>
	
	<body class="with-news   android service-binding">
		<div id="wrapper">
      <div id="page" class="with-news">
  		
          <div id="news-banner" class="hide-tablet-portrait">
  <p>Geoloqi is now part of Esri! <a href="http://geoloqi.com/blog/2012/10/geoloqi-is-now-part-of-esri/">Learn More</a> | <a href="http://geoloqi.com/esri-faq">FAQ</a></p>
</div>

  				<header id="header">

		<a href="/" id="logo">Developers</a>
<nav id="site-selector">
  <ul>
    <li class="dropdown">
      <a href="/">Developers</a>
      <div class="dropdown-menu">
        <ul>
          <li>
            <a href="http://geoloqi.com">
              <h6>Geoloqi</h6>
              <small>Learn more about Geoloqi</small>
            </a>
          </li>
          <li>
            <a href="/">
              <h6>Developers</h6>
              <small>Build location-aware applications with Geoloqi</small>
            </a>
          </li>
          <li>
            <a href="http://geoloqi.com/apps">
              <h6>Apps</h6>
              <small>See what we have built with our native SDKs</small>
            </a>
          </li>
        </ul>
      </div>
    </li>
  </ul>
</nav>


  	<nav id="main-nav">
			<ul>
				<li ><a href="/features">Features</a></li>
				<li ><a href="/pricing">Pricing</a></li>
				<li ><a href="/support">Support</a></li>
				<li ><a href="/sample-code">Sample Code</a></li>
				<li class="dropdown">
		      <a href="#" class="dropdown-toggle">Docs</a>
		      <div class="dropdown-menu">
			      <ul>
	    				<li><a href="/ios">iOS SDK</a></li> 
	    				<li><a href="/android">Android SDK</a></li>
	    				<li><a href="/titanium">Titanium Module</a></li>
			        <li><a href="/api">Geoloqi API</a></li>
			        <li><a href="/client-libraries">Client Libraries</a></li>
			        <li><a href="/api/create_a_layer">Layers</a></li>
			      </ul>
		      </div>
		     </li>
			</ul>
		</nav>

		    <nav class="secondary">
      <ul id="user-dropdown-menu">
        <li><a href="/session/new">Log In</a></li>
      </ul>
    </nav>
</nav>

</header>

          
            <div class="flash-container container">
              
            </div>

				<div class="container">
  <h1>Service Binding - Android SDK</h1>
  <div id="main" class="new-docs">
    <section class="well">
      <p>If you are an advanced user, you can bind to the tracking service from your Activity and call any public methods. This may be useful if you want to trigger API calls from your application&#39;s UI.
Local service binding can be <a href="http://developer.android.com/reference/android/app/Service.html#LocalServiceSample">easily achieved</a>, but with great power comes great responsibility.</p>
<pre><code class='java'>@Override
public void onResume() {
    super.onResume();

    &#x2F;&#x2F; Bind to the tracking service so we can call public methods on it
    Intent intent = new Intent(this, LQService.class);
    bindService(intent, mConnection, 0);
}

@Override
public void onPause() {
    super.onPause();

    &#x2F;&#x2F; Unbind from LQService
    if (mBound) {
        unbindService(mConnection);
        mBound = false;
    }
}

private LQService mService;
private boolean mBound;

&#x2F;** Defines callbacks for service binding, passed to bindService() *&#x2F;
private ServiceConnection mConnection = new ServiceConnection() {
    @Override
    public void onServiceConnected(ComponentName name, IBinder service) {
        try {
            &#x2F;&#x2F; We&#x27;ve bound to LocalService, cast the IBinder and get LocalService instance.
            LQBinder binder = (LQBinder) service;
            mService = binder.getService();
            mBound = true;
        } catch (ClassCastException e) {
            &#x2F;&#x2F; Pass
        }
    }

    @Override
    public void onServiceDisconnected(ComponentName name) {
        mBound = false;
    }
};
</code></pre>
<p>Once the Service binding has completed you can call methods from the service instance like <code>mService.getTracker()</code> or <code>mService.getSession()</code>. These two objects are the backbone of the Geoloqi SDK and expose many useful methods. For example, once you have an instance of <code>LQSession</code> you can make calls to the Geoloqi REST API.
Note that you should always make sure you start the tracking service explicitly before attempting to bind to it. If you bind to the tracking service using the <code>BIND<em>AUTO</em>CREATE</code> flag the service may not continue to function once your Activity has stopped.</p>

    </section>
  </div>
  <aside id="sidebar">
    <div class="table-of-contents">
      <nav>

        <h4>Android SDK</h4>
        <ul>
          <li><a href="/android/getting-started">Getting Started</a></li>
          <li><a href="/android/making-api-requests">Making API Requests</a></li>
          <li><a href="/android/handling-events">Handling Events</a></li>
          <li><a href="/android/service-binding">Service Binding</a></li>
          <li><a href="/android/push-notifications">Push Notifications</a></li>
        <li><a href="/android/docs/index.html">SDK Documentation</a></li>
        </ul>

        <hr>

        <h4>Geoloqi REST API</h4>
<ul>
  <li><a href="/api">List of API Methods</a></li>
  <li><a href="/api/authentication">Authentication</a></li>
  <li><a href="/api/trigger/create">Creating Triggers</a></li>
</ul>
      </nav>
    </div>
  </aside>
</div>

			</div>
      <div id="push"></div>
		</div>

		<footer id="footer">
	<div id="site-footer">
		<div class="inner">
			<nav>
				<h6 class="compress-bottom">Geoloqi</h6>
				<ul>
					<li><a href="http://geoloqi.com">Home</a></li>
					<li><a href="/">Developers</a></li>
					<li><a href="http://geoloqi.com/apps">Apps</a></li>
					<li><a href="/pricing">Pricing</a></li>
				</ul>
			</nav>
			<nav>
				<h6 class="compress-bottom">SDKs</h6>
				<ul>
					<li><a href="/ios">iOS</a></li>
					<li><a href="/android">Android</a></li>
					<li><a href="/titanium">Titanium</a></li>
					<li><a href="/client-libraries">API Client Libraries</a></li>
				</ul>
			</nav>
			<nav>
				<h6 class="compress-bottom">Resources</h6>
				<ul>
					<li><a href="/sample-code">Sample Code</a></li>
					<li><a href="/api/console">API Console</a></li>
					<li><a href="http://geoloqi.com/press-kit">Logos</a></li>
					<li><a href="http://geoloqi.com/faq">FAQ</a></li>
				</ul>
			</nav>
			<section class="apps">
				<div class="box">
					<nav class="ios">
						<h6 class="compress icon-apple"> iPhone Apps</h6>
						<ul>
							<li><a href="http://geoloqi.com/app-store/geonotes/iphone">Geonotes</a></li>
							<!--

								<li><a href="">Geotracks</a></li>
							-->
							<li><a href="http://geoloqi.com/app-store/dinodeals/iphone">DinoDeals</a></li>
							<li><a href="http://geoloqi.com/app-store/everydaycity/iphone">Everyday City</a></li>
						</ul>
					</nav>
					<nav class="android">
						<h6 class="compress icon-android"> Android Apps</h6>
						<ul>
							<li><a href="http://geoloqi.com/app-store/geonotes/android">Geonotes</a></li>
							<li><a href="http://geoloqi.com/app-store/geotracks/android">Geotracks</a></li>
							<li><a href="http://geoloqi.com/app-store/dinodeals/android">DinoDeals</a></li>
						</ul>
					</nav>
				</div>
			</section>
		</div>
	</div>
	<div id="common-footer">
		<div class="inner">
			<a href="http://esri.com" id="logo-footer">Esri</a>
			<div id="social-links">
				<a href="https://twitter.com/geoloqi" class="icon-twitter"></a>
				<a href="https://www.facebook.com/geoloqi" class="icon-facebook"></a>
				<a href="https://github.com/geoloqi" class="icon-github"></a>
			</div>
			<section id="footer-menu">
				<nav>
					<ul>
						<li><a href="http://geoloqi.com/about">About</a></li>
						<li><a href="https://developers.geoloqi.com">Developers</a></li>
						<li><a href="http://geoloqi.com/press">Press</a></li>
						<li><a href="https://developers.geoloqi.com/partners-and-oems">Partners &amp; OEMs</a></li>
						<li><a href="http://geoloqi.com/faq">FAQ</a></li>
						<li><a href="http://geoloqi.com/blog">Blog</a></li>
						<li><a href="https://status.geoloqi.com/">API Status</a></li>
						<li><a href="http://geoloqi.com/privacy">Privacy</a></li>
						<li><a href="https://developers.geoloqi.com/contact">Contact Us</a></li>
					</ul>
				</nav>
				<small>&copy; Copyright 2010-2012 <a href="http://esri.com">Environmental Systems Research Institute, Inc.</a> and contributors.</small>
			</section>
			
		</div>
	</div>
</footer>

    <script>
      var dojoConfig = {
        async: true,
        packages: [{
          name: "loqi",
          location: "/js/loqi"
        },{ 
          name: "arcgis",
          location: "/js/arcgis"
        }]
      };
    </script>
    
    
		
    <script src="/js/libs/underscore-min.js"></script>
    <script src='/assets/main.840806.js'></script>

    
	</body>
</html>
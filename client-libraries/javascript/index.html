<!DOCTYPE html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if IE 7 ]><html class="no-js ie ie7" lang="en"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie ie8" lang="en"><![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
  <head>
    <meta charset="utf-8">
      
      <title>Javascript Library for Browsers - Geoloqi Developers</title>
    
    

    <meta name='description' content='A client-side javascript library that makes it easy to access and work with the Geoloqi API in web browsers.'>

    

    <script src="/js/libs/modernizr.js"></script>
    
    <link rel='stylesheet' href='/assets/main.046639.css' />
    
       
  
    
    
   	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
		<script>window.jQuery || document.write('<script src="/geoloqi-common/js/libs/jquery-1.6.1.min.js">\x3C/script>')</script>

      <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-25750303-2']);
    _gaq.push(['_trackPageview']);


    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


    <link rel="pingback" href="http://pingback.me/geoloqi/xmlrpc" />
  </head>
	
	<body class="with-news   client-libraries javascript">
		<div id="wrapper">
      <div id="page" class="with-news">
  		
          <div id="news-banner" class="hide-tablet-portrait">
  <p>Esri's Geotrigger Service is replacing Geoloqi! <a href="http://geoloqi.com/blog/2012/10/geoloqi-is-now-part-of-esri/">Learn More</a> | <a href="http://geoloqi.com/esri-faq">FAQ</a></p>
</div>

  				<header id="header">

		<a href="/" id="logo">Developers</a>
<nav id="site-selector">
  <ul>
    <li class="dropdown">
      <a href="/">Developers</a>
      <div class="dropdown-menu">
        <ul>
          <li>
            <a href="http://geoloqi.com">
              <h6>Geoloqi</h6>
              <small>Learn more about Geoloqi</small>
            </a>
          </li>
          <li>
            <a href="/">
              <h6>Developers</h6>
              <small>Build location-aware applications with Geoloqi</small>
            </a>
          </li>
          <li>
            <a href="http://geoloqi.com/apps">
              <h6>Apps</h6>
              <small>See what we have built with our native SDKs</small>
            </a>
          </li>
        </ul>
      </div>
    </li>
  </ul>
</nav>


  	<nav id="main-nav">
			<ul>
				<li ><a href="/features">Features</a></li>
				<li ><a href="/pricing">Pricing</a></li>
				<li ><a href="/support">Support</a></li>
				<li ><a href="/sample-code">Sample Code</a></li>
				<li class="dropdown">
		      <a href="#" class="dropdown-toggle">Docs</a>
		      <div class="dropdown-menu">
			      <ul>
	    				<li><a href="/ios">iOS SDK</a></li> 
	    				<li><a href="/android">Android SDK</a></li>
	    				<li><a href="/titanium">Titanium Module</a></li>
			        <li><a href="/api">Geoloqi API</a></li>
			        <li><a href="/client-libraries">Client Libraries</a></li>
			        <li><a href="/api/create_a_layer">Layers</a></li>
			      </ul>
		      </div>
		     </li>
			</ul>
		</nav>

		    <nav class="secondary">
      <ul id="user-dropdown-menu">
        <li><a href="/session/new">Log In</a></li>
      </ul>
    </nav>
</nav>

</header>

          
            <div class="flash-container container">
              
            </div>

				<div class="container">
  <h1>Javascript Library for Browsers</h1>  
  <div id="main" class="new-docs">
    <section class="well">
      <div class="alert info personal-token">
  <p>To get you started quickly your personal access token is included in these examples. However you should use an application access token instead, which you can get from the <a href="/account/applications">applications page</a>.</p>

<p><code class="access-token"><a href="http://geoloqi.com/session/new?page=https%3A%2F%2Fdevelopers.geoloqi.com%2Fclient-libraries%2Fjavascript">Log in</a> to get your personal access token</code></p>

</div>

<p>Similar to Facebook&#39;s connect-js, this library allows you to develop rich web applications using only javascript. There are no backend/server requirements - all you need to get started is a web browser and a text editor!</p>

<p>You can get it from our CDN!</p>
<pre><code class='html'>&lt;script type=&quot;text&#x2F;javascript&quot; src=&quot;https:&#x2F;&#x2F;api.geoloqi.com&#x2F;js&#x2F;geoloqi.min.js&quot;&gt;&lt;&#x2F;script&gt;
</code></pre>
<p>This file will always be the latest version. If you&#39;d prefer to fix to a specific version, check the versions folder:</p>
<pre><code class='html'>&lt;script type=&quot;text&#x2F;javascript&quot; src=&quot;https:&#x2F;&#x2F;api.geoloqi.com&#x2F;js&#x2F;versions&#x2F;geoloqi-1.0.13.min.js&quot;&gt;&lt;&#x2F;script&gt;
</code></pre>
<h2 class='section-header' data-section-name='usage' ><a id='usage' class='section-link'></a>
Usage</h2>

<p>This first example only requires an access token, which all user accounts receive automatically. You can retrieve yours at the <a href="https://developers.geoloqi.com/getting-started">Geoloqi Developers Site</a>. You can get an application access token from your <a href="https://developers.geoloqi.com/account/applications">applications page</a>.</p>

<p><strong>You should never use your access token in production applications as it would allow anyone who can load the page to read/write your data. It is only used here for demonstration purposes.</strong></p>
<pre><code class='html'>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;script type=&quot;text&#x2F;javascript&quot; src=&quot;http:&#x2F;&#x2F;api.geoloqi.com&#x2F;js&#x2F;geoloqi.min.js&quot;&gt;&lt;&#x2F;script&gt;
    &lt;script type=&quot;text&#x2F;javascript&quot;&gt;
      window.onload = function () {
        geoloqi.init({
          client_id: &quot;YOUR_API_KEY (optional but recommended)&quot;
        });
        geoloqi.auth = {&#x27;access_token&#x27;: &#x27;YOUR_USER_OR_APPLICATION_ACCESS_TOKEN&#x27;};

        function getLastLocation() {
          geoloqi.get(&#x27;location&#x2F;last&#x27;, function(result, error) {
            console.log(result);
          });
        }

        function changeProfileWebsite() {
          geoloqi.post(&#x27;account&#x2F;profile&#x27;, {&#x27;website&#x27;:&#x27;http:&#x2F;&#x2F;example.org&#x2F;my_cool_site&#x27;}, function(result, error) {
            console.log(result);
          });
        }
      }
    &lt;&#x2F;script&gt;
    &lt;title&gt;Geoloqi Client JS Test with Access Token&lt;&#x2F;title&gt;
  &lt;&#x2F;head&gt;
  &lt;body&gt;
    &lt;a href=&quot;#&quot; onclick=&quot;getLastLocation(); return false&quot;&gt;Get Last Location&lt;&#x2F;a&gt;
    &lt;br&gt;
    &lt;a href=&quot;#&quot; onclick=&quot;changeProfileWebsite(); return false&quot;&gt;Change Profile Website&lt;&#x2F;a&gt;
    &lt;br&gt;
  &lt;&#x2F;body&gt;
&lt;&#x2F;html&gt;
</code></pre>
<div class="flash error">
  <p><strong>Warning:</strong> OAuth features will be depricated in a future version of the Javascript API.</p>
</div>

<p>Want to make an application with OAuth2? Create an application at the <a href="https://developers.geoloqi.com/applications">Geoloqi Developers Site</a> and try this:</p>
<pre><code class='html'>&lt;html&gt;
  &lt;head&gt;
    &lt;script type=&quot;text&#x2F;javascript&quot; src=&quot;https:&#x2F;&#x2F;api.geoloqi.com&#x2F;js&#x2F;geoloqi.min.js&quot;&gt;&lt;&#x2F;script&gt;
    &lt;script type=&quot;text&#x2F;javascript&quot;&gt;
      window.onload = function () {
        geoloqi.init({&#x27;client_id&#x27;: &#x27;YOUR_API_KEY_FROM_DEVELOPERS.GEOLOQI.COM&#x27;});
      }

      function getProfile() {
        geoloqi.get(&#x27;account&#x2F;profile&#x27;, function(result, error) {
          console.log(result);
        });
      }
    &lt;&#x2F;script&gt;
    &lt;title&gt;Geoloqi Client JS Test&lt;&#x2F;title&gt;
  &lt;&#x2F;head&gt;
  &lt;body&gt;
    &lt;div id=&quot;geoloqi-root&quot; style=&quot;display:none;&quot;&gt;&lt;&#x2F;div&gt;
    &lt;a href=&quot;#&quot; onclick=&quot;geoloqi.authenticate(); return false&quot;&gt;Login Directly&lt;&#x2F;a&gt;
    &lt;br&gt;
    &lt;a href=&quot;#&quot; onclick=&quot;geoloqi.authenticateWithPopup(); return false&quot;&gt;Login via popup (not supported in IE)&lt;&#x2F;a&gt;
    &lt;br&gt;
    &lt;a href=&quot;#&quot; onclick=&quot;getProfile(); return false&quot;&gt;Get Profile&lt;&#x2F;a&gt;
    &lt;br&gt;
    &lt;a href=&quot;#&quot; onclick=&quot;geoloqi.expire(); return false&quot;&gt;Logout&lt;&#x2F;a&gt;
    &lt;br&gt;&lt;br&gt;
  &lt;&#x2F;body&gt;
&lt;&#x2F;html&gt;
</code></pre>
<h2 class='section-header' data-section-name='configuring-and-initializing' ><a id='configuring-and-initializing' class='section-link'></a>
Configuring and Initializing</h2>

<p>Before geoloqi.js can be used you must run the <code>geoloqi.init()</code> method. There are no required options although it is recommended you set the <code>client_id</code> option to track usage statistics. (Click &quot;Usage&quot; on your <a href="/account/applications">applications list</a>)</p>
<pre><code class='javascript'>geoloqi.init({
  client_id: &#x27;STRING&#x27;, &#x2F;&#x2F; Your applications api key here (https:&#x2F;&#x2F;developers.geoloqi.com&#x2F;account&#x2F;applications)
  package_name: &#x27;STRING&#x27;, &#x2F;&#x2F; An optional name for your package to be tracked at https:&#x2F;&#x2F;developers.geoloqi.com&#x2F;account
  package_version: &#x27;STRING&#x27;, &#x2F;&#x2F; An optional name for your package to be tracked at https:&#x2F;&#x2F;developers.geoloqi.com&#x2F;account
  persist: &#x27;STRING&#x27; &#x2F;&#x2F; Sets the persistence method used to store user sessions. Uses &#x27;localStorage&#x27; or &#x27;cookies&#x27;
});
</code></pre>
<h2 class='section-header' data-section-name='authentication' ><a id='authentication' class='section-link'></a>
Authentication</h2>

<p>Once you have initialized the library you should authenticate the user. There are several methods for authentication including OAuth (via <a href="http://geoloqi.com">http://geoloqi.com</a>) which will give you access to the users <a href="http://geoloqi.com">http://geoloqi.com</a> account. You can provide a username and password, or simply pass in a user&#39;s <code>access_token</code> (for cases where a user might already have a session on your server).</p>

<p>You can register a callback for user authentication events with <code>geoloqi.onAuthorize</code>:</p>
<pre><code class='javascript'>geoloqi.init({
  client_id: &quot;ABC123&quot;
});

geoloqi.onAuthorize = function(response, error){
  console.log(response, error);
}

geoloqi.login(&quot;email&quot;, &quot;password&quot;)
</code></pre>
<p>You can also listen for an authentication error by setting <code>onOAuthError</code> or <code>onLoginError</code>:</p>
<pre><code class='javascript'>geoloqi.onOAuthError = function(error){
  console.log(error)
}

geoloqi.onLoginError = function(error){
  console.log(error)
}
</code></pre>
<h4>Via OAuth</h4>

<div class="flash error">
  <p><strong>Warning:</strong> OAuth features will be depricated in a future version of the Javascript API.</p>
</div>

<p>There are three OAuth methods available. You must pass a <code>client_id</code> to <code>geoloqi.init()</code> to use these methods.</p>

<ul>
<li><code>geoloqi.authenticate()</code> - Shortcut for <code>geoloqi.authenticateWithPopup()</code></li>
<li><code>geoloqi.authenticateWithRedirect()</code> - Will send the user to Geoloqi&#39;s OAuth page and redirect them to your application&#39;s redirect url upon completion.</li>
<li><code>geoloqi.authenticateWithPopup()</code> - Will attempt to use a popup to authenticate the user instead of a redirect.</li>
</ul>

<p><code>geoloqi.authenticateWithPopup()</code> does not work in some older versions of Internet Explorer.</p>

<h4>With Email and Password</h4>

<p>If you want a user to login to an account you have created with <a href="/api/user/create">user/create</a> you can use the <code>login</code> method:  <code>geoloqi.login(email, password)</code>. You must set <code>client_id</code> when you call <code>geoloqi.init()</code> to use this method.</p>
<pre><code class='javascript'>geoloqi.init({
  client_id: &quot;ABC123&quot;
});

&#x2F;&#x2F; Will be called upon a successful login
geoloqi.onAuthorize = function(response, error){
  console.log(response, error);
}

&#x2F;&#x2F; Will be called upon a failed login
geoloqi.onLoginError = function(error){
  console.log(response, error);
}

geoloqi.login(&quot;email&quot;, &quot;password&quot;)
</code></pre>
<h4>With Access Token</h4>

<p>If you want to set a user&#39;s access token without any additional authentication, you can do do by setting <code>geoloqi.auth</code>.</p>
<pre><code class='javascript'>geoloqi.auth = {
  access_token = &quot;YOUR_USER_OR_APPLICATION_ACCESS_TOKEN&quot;
}
</code></pre>
<h2 class='section-header' data-section-name='making-api-requests' ><a id='making-api-requests' class='section-link'></a>
Making API Requests</h2>

<p>To make requests to the <a href="https://developers.geoloqi.com/api">Geoloqi API</a> you will need to authenticate the user with <code>geoloqi.login(username, password)</code>, <code>geoloqi.authenticate()</code> or  <code>geoloqi.authenticateWithPopup()</code>.</p>

<p>Once the user is authenticated you can use <code>geoloqi.get()</code> or <code>geoloqi.post()</code> to make requests.</p>

<h4>GET</h4>

<p>Example: <code>geoloqi.get(method, params, callback, context)</code></p>

<ul>
<li><code>method</code> is the API method you want to run. You can find a full list of API methods <a href="https://developers.geoloqi.com/api">here</a>.</li>
<li><code>arguments</code> is an optional object that will encoded as a query string before being sent to the API.</li>
<li><code>callback</code> is a function that will be run when the request is complete. Receives <code>response</code> and <code>error</code> arguments (example: <code>function(response, error) {}</code>).</li>
<li><code>context</code> optional, will bind the callback function to the given context. Similar to <a href="http://documentcloud.github.com/underscore/#bind">_.bind</a> and <a href="http://api.jquery.com/jQuery.proxy/">jQuery.proxy</a>.</li>
</ul>

<p><strong>Examples</strong></p>

<p>Get the authenticated user&#39;s profile</p>
<pre><code class='javascript'>geoloqi.get(&#x27;account&#x2F;profile&#x27;, function(response, error){
  console.log(response, error);
});
</code></pre>
<p>Get nearby places</p>
<pre><code class='javascript'>geoloqi.get(&#x27;place&#x2F;nearby&#x27;, {
  latitude: 45.516454,
  longitude: -122.675997,
  radius: 100
}, function(response, error){
    console.log(response, error);
});
</code></pre>
<p>Get the users last known location and run the callback where this = User</p>
<pre><code class='javascript'>User = {
  latitude: null,
  longitude: null
};

&#x2F;&#x2F;arguments are optional
geoloqi.get(&#x27;location&#x2F;last&#x27;, function(response, error){
  this.latitude = response.location.position.latitude;
  this.longitude = response.location.position.longitude;
}, User);
</code></pre>
<h4>POST</h4>

<p>Example: <code>geoloqi.post(method, params, callback, context)</code></p>

<ul>
<li><code>method</code> the API method you want to run. You can find a full list of API methods <a href="https://developers.geoloqi.com/api">here</a>.</li>
<li><code>patams</code> an object that will encoded as a query string or post body before being sent to the API.</li>
<li><code>callback</code> a function that will be run when the request is complete. Receives <code>response</code> and <code>error</code> arguments (example: <code>function(response, error) {}</code>).</li>
<li><code>context</code> optional, will bind the callback function to the given context. Similar to <a href="http://documentcloud.github.com/underscore/#bind">_.bind</a> and <a href="http://api.jquery.com/jQuery.proxy/">jQuery.proxy</a>.</li>
</ul>

<p><strong>Examples</strong></p>

<p>Update the user&#39;s profile:</p>
<pre><code class='javascript'>geoloqi.post(&quot;account&#x2F;profile&quot;, {
    &#x27;website&#x27;: &quot;http:&#x2F;&#x2F;mycoolsite.com&quot;
}, function(response, error){
    console.log(response, error);
});
</code></pre>
<p>Create a new place for the user:</p>
<pre><code class='javascript'>geoloqi.post(&quot;place&#x2F;create&quot;, {
  latitude: 45.516454,
  longitude: -122.675997,
  radius: 100,
  name: &quot;Geoloqi Office&quot;
}, function(response, error){
    console.log(response, error)
});
</code></pre>
<p>Create a new geotrigger. There are lots of options - please read the <a href="/api/trigger/create">trigger/create</a> documentation.</p>
<pre><code class='javascript'>geoloqi.post(&quot;trigger&#x2F;create&quot;, {
  place_name: &quot;Geoloqi Office&quot;
  latitude: 45.516454,
  longitude: -122.675997,
  radius: 100,
  trigger_on: &quot;enter&quot;
  type: &quot;message&quot;,
  text: &quot;Welcome To Geoloqi HQ&quot;
}, function(response, error){
    console.log(response, error)
});
</code></pre>
<h2 class='section-header' data-section-name='batch-requests' ><a id='batch-requests' class='section-link'></a>
Batch Requests</h2>

<p>The Geoloqi API supports running multiple requests at once through the <code>batch/run</code> method. you can use the <code>geoloqi.Batch()</code> object to build batch requests and send them to the API. This is particularly good for things such as initialization functions where you may want to make multiple requests at once, or imports of large sets of data.</p>

<p>To use the batch API create a new batch object by calling <code>new geoloqi.Batch()</code> there are no options for this object. Once you have a batch object you can chain <code>.get(&quot;method&quot;, params, headers)</code> and <code>.post(&quot;method&quot;, params, headers)</code> methods to build up your batch request.</p>

<p>When you are finished building your batch request use the <code>run(callback, context)</code> to send the request to our servers. For more information on the batch api see <a href="/api/batch/run">batch/run</a>.</p>

<p><strong>Notes</strong>: Complicated batch requests or batch requests to complex methods like <a href="/api/location/history">location/history</a> may take a very long time to respond or even timeout.</p>
<pre><code class='javascript'>MyApp = {
  places: [],
  user: {
    profile: {},
    location: {}
  }
}

batch = new geoloqi.Batch();

batch.get(&quot;account&#x2F;profile&quot;)
     .get(&quot;place&#x2F;list&quot;, {limit: 50})
     .get(&quot;location&#x2F;last&quot;);

&#x2F;&#x2F; Run with a context. this will be MyApp in your callback function
init_batch.run(function(response){
  &#x2F;&#x2F; response.result is an array of responses in the order you requested them.
  console.log(response.result);
  this.places = response.result[0].body.places;
  this.user.profile = response.result[1].body;
  this.user.location = response.result[2].body;
}, MyApp);

&#x2F;&#x2F; Run without a context
init_batch.run(function(response){
  &#x2F;&#x2F; response.result is an array of responses in the order you requested them.
  MyApp.places = response.result[0].body.places
  MyApp.user.profile = response.result[1].body
  MyApp.user.location = response.result[2].body
});
</code></pre>
<h2 class='section-header' data-section-name='html5-geolocation-helpers' ><a id='html5-geolocation-helpers' class='section-link'></a>
HTML5 Geolocation Helpers</h2>

<p>Using HTML5s new geolocation features, you can update user&#39;s locations in the Geoloqi API with geoloqi.js once you have authenticated the user.</p>

<p><strong>Caveats</strong>: These helpers implement HTML5s <code>navigator.geolocation</code> features, they DO NOT allow for battery safe geofencing or for updating location in the background. They will work only as long as the device is awake and the page has focus. These functions designed to quickly update user&#39;s locations from a web page for a short period of time.</p>

<h4>Update locations</h4>

<p>You can use <code>geoloqi.updateLocation()</code> to make a one time update to a user&#39;s location. It uses the standard <code>navigator.geolocation.getCurrentPosition</code> function under the hood and sends the results to the Geoloqi API and a optional callback function.</p>

<p><strong>Options</strong></p>

<ul>
<li>success: a function that will be run after successfully updating a user&#39;s location. Will receive a HTML5 position object as it&#39;s parameter.</li>
<li>error: function will be run if there was an error getting or updating the user&#39;s location.</li>
<li>context: an object to bind the context of the callback functions.</li>
</ul>

<p><strong>Example</strong></p>
<pre><code class='javascript'>geoloqi.updateLocation({
  success: function(position){
    console.log(&quot;updated users position&quot;, position);
  },
  error: function(){
    console.log(&quot;there was an error&quot;);
  }
});
</code></pre>
<h4>Watch for location changes</h4>

<p>You can use <code>geoloqi.watchPosition()</code> to update a user&#39;s location as it changes. Implements <code>navigator.geolocation.watchPosition</code> under the hood and sends each point to the Geoloqi API and a callback function.</p>

<p><strong>Options</strong></p>

<ul>
<li>success: a function that will be run after successfully updating a user&#39;s location. Will receive a HTML5 position object as its parameter.</li>
<li>error: function will be run if there was an error getting or updating the user&#39;s location.</li>
<li>context: an object to bind the context of the callback functions.</li>
</ul>

<p><strong>Example</strong></p>
<pre><code class='javascript'>&#x2F;&#x2F; when initialized, this will start watching a user&#x27;s location automatically
watch_user = new geoloqi.watchPosition({
  success: function(position){
    console.log(&quot;updated user&#x27;s position&quot;, position);
  },
  error: function(){
    console.log(&quot;there was an error&quot;);
  }
});

&#x2F;&#x2F; stop watching a users location
watch_user.stop();

&#x2F;&#x2F; start watching a users location again
watch_user.start();
</code></pre>
<h2 class='section-header' data-section-name='socket.io-and-realtime-location' ><a id='socket.io-and-realtime-location' class='section-link'></a>
Socket.io and Realtime Location</h2>

<p>geoloqi.js has support for listening to Geoloqi&#39;s socket.io server to listen to realtime location data. To get started you will need the socket.io library which you can get on our CDN.</p>
<pre><code class='html'>&lt;script src=&quot;https:&#x2F;&#x2F;subscribe.geoloqi.com&#x2F;socket.io&#x2F;socket.io.js&quot; type=&quot;text&#x2F;javascript&quot;&gt;&lt;&#x2F;script&gt;
</code></pre>
<p>Once you have the socket.io library create a new <code>geoloqi.Socket</code> object.</p>
<pre><code class='javascript'>socket = new geoloqi.Socket(&quot;AUTHENTICATION_TYPE&quot;, &quot;TOKEN&quot;, {
  location: function(data){
    console.log(data)
  }
});
socket.start();
</code></pre>
<p>The <code>AUTHENTICATION_TYPE</code> can be <code>&quot;trip&quot;</code>, <code>&quot;group&quot;</code> or <code>&quot;user&quot;</code>. For trips and groups, the token is returned from a call to <a href="/api/trip/create">trip/create</a> or <a href="/api/group/create">group/create</a>. For users, you must enable public location on a user&#39;s account (<a href="/api/user/:id">user/:id</a> or <a href="/api/account/profile">account/profile</a>) and pass the user&#39;s username as the token.</p>

<p><strong>Listen for location updates from a group</strong></p>
<pre><code class='javascript'>socket = new geoloqi.Socket(&quot;group&quot;, &quot;12345&quot;, {
  location: function(data){
    console.log(data)
  }
});
socket.start();
</code></pre>
<p><strong>Listen for location updates from a trip token</strong></p>
<pre><code class='javascript'>socket = new geoloqi.Socket(&quot;trip&quot;, &quot;1234567&quot;, {
  location: function(data){
    console.log(data)
  }
});
socket.start();
</code></pre>
<h3 class='section-header' data-section-name='found-a-bug?' ><a id='found-a-bug?' class='section-link'></a>
Found a bug?</h3>

<p>Let us know! Send a pull request or a patch. Questions? Ask! We&#39;re here to help. File issues on <a href="http://github.com/geoloqi/geoloqi-js">Github</a>, or look at our other <a href="/support">support options</a> including IRC and community forums.</p>

<h3 class='section-header' data-section-name='authors' ><a id='authors' class='section-link'></a>
Authors</h3>

<ul>
<li>Patrick Arlt - <a href="https://twitter.com/patrickarlt">@patrickarlt</a></li>
<li>Kyle Drake - <a href="https://twitter.com/kyledrake">@kyledrake</a></li>
<li>Aaron Parecki - <a href="https://twitter.com/aaronpk">@aaronpk</a></li>
</ul>

<h3 class='section-header' data-section-name='roadmap' ><a id='roadmap' class='section-link'></a>
Roadmap</h3>

<ul>
<li>Expanded <code>geoloqi.Socket</code> object with more options</li>
<li>Support for CORS (Cross Origin Resource Sharing)</li>
<li>Callback options for <code>login</code> and <code>authenticate</code> methods</li>
</ul>

    </section>  
  </div>
  <aside id="sidebar">
    <div class="table-of-contents">
      <nav>
        <h3>Table of Contents</h3>
        <ul>
              <li><a href="#usage">
Usage</a></li>
              <li><a href="#configuring-and-initializing">
Configuring and Initializing</a></li>
              <li><a href="#authentication">
Authentication</a></li>
              <li><a href="#making-api-requests">
Making API Requests</a></li>
              <li><a href="#batch-requests">
Batch Requests</a></li>
              <li><a href="#html5-geolocation-helpers">
HTML5 Geolocation Helpers</a></li>
              <li><a href="#socket.io-and-realtime-location">
Socket.io and Realtime Location</a></li>
        </ul>
      </nav>
    </div>
    <hr>
      <nav>
    <div class="documentation-section">
      <h4>Quick Links</h4>
      <ul>
        <li><a href="/account/applications/new">Create New Application</a></li>
        <li><a href="/sample-code">Sample Code</a></li>
        <li><a href="/api/create_a_layer">Creating a Layer</a></li>
        <li><a href="/support">Help &amp; Support</a></li>
      </ul>
    </div>

    <div class="documentation-section">
      <h4>API Links</h4>
      <ul>
        <li><a href="/api">Documentation</a></li>
        <li><a href="/api/Authentication">Authentication</a></li>
        <li><a href="/api/console">Debugger Console</a></li>
        <li><a href="/api/Time_and_Dates">Time and Date Formats</a></li>
        <li><a href="/api/Paging">Pagination</a></li>
        <li><a href="/api/Error_Codes">Error Codes</a></li>
      </ul>
    </div>

    <div class="documentation-section">
      <h4>Developer SDKs</h4>
      <ul>
        <li><a href="/ios">iPhone</a></li>
        <li><a href="/android">Android</a></li>
      </ul>
    </div>

    <div class="documentation-section">
      <h4>Client Libraries</h4>
      <ul>
        <li><a href="/client-libraries/cURL">cURL</a></li>
        <li><a href="/client-libraries/Ruby">Ruby</a></li>
        <li><a href="/client-libraries/Javascript">JavaScript</a></li>
        <li><a href="/client-libraries/NodeJS">Node.js</a></li>
        <li><a href="/client-librarixes/PHP">PHP</a></li>
      </ul>
    </div>
    
  </nav>
  </aside>
</div>

			</div>
      <div id="push"></div>
		</div>

		<footer id="footer">
	<div id="site-footer">
		<div class="inner">
			<nav>
				<h6 class="compress-bottom">Geoloqi</h6>
				<ul>
					<li><a href="http://geoloqi.com">Home</a></li>
					<li><a href="/">Developers</a></li>
					<li><a href="http://geoloqi.com/apps">Apps</a></li>
					<li><a href="/pricing">Pricing</a></li>
				</ul>
			</nav>
			<nav>
				<h6 class="compress-bottom">SDKs</h6>
				<ul>
					<li><a href="/ios">iOS</a></li>
					<li><a href="/android">Android</a></li>
					<li><a href="/titanium">Titanium</a></li>
					<li><a href="/client-libraries">API Client Libraries</a></li>
				</ul>
			</nav>
			<nav>
				<h6 class="compress-bottom">Resources</h6>
				<ul>
					<li><a href="/sample-code">Sample Code</a></li>
					<li><a href="/api/console">API Console</a></li>
					<li><a href="http://geoloqi.com/press-kit">Logos</a></li>
					<li><a href="http://geoloqi.com/faq">FAQ</a></li>
				</ul>
			</nav>
			<section class="apps">
				<div class="box">
					<nav class="ios">
						<h6 class="compress icon-apple"> iPhone Apps</h6>
						<ul>
							<li><a href="http://geoloqi.com/app-store/geonotes/iphone">Geonotes</a></li>
							<!--

								<li><a href="">Geotracks</a></li>
							-->
							<li><a href="http://geoloqi.com/app-store/dinodeals/iphone">DinoDeals</a></li>
							<li><a href="http://geoloqi.com/app-store/everydaycity/iphone">Everyday City</a></li>
						</ul>
					</nav>
					<nav class="android">
						<h6 class="compress icon-android"> Android Apps</h6>
						<ul>
							<li><a href="http://geoloqi.com/app-store/geonotes/android">Geonotes</a></li>
							<li><a href="http://geoloqi.com/app-store/geotracks/android">Geotracks</a></li>
							<li><a href="http://geoloqi.com/app-store/dinodeals/android">DinoDeals</a></li>
						</ul>
					</nav>
				</div>
			</section>
		</div>
	</div>
	<div id="common-footer">
		<div class="inner">
			<a href="http://esri.com" id="logo-footer">Esri</a>
			<div id="social-links">
				<a href="https://twitter.com/geoloqi" class="icon-twitter"></a>
				<a href="https://www.facebook.com/geoloqi" class="icon-facebook"></a>
				<a href="https://github.com/geoloqi" class="icon-github"></a>
			</div>
			<section id="footer-menu">
				<nav>
					<ul>
						<li><a href="http://geoloqi.com/about">About</a></li>
						<li><a href="https://developers.geoloqi.com">Developers</a></li>
						<li><a href="http://geoloqi.com/press">Press</a></li>
						<li><a href="https://developers.geoloqi.com/partners-and-oems">Partners &amp; OEMs</a></li>
						<li><a href="http://geoloqi.com/faq">FAQ</a></li>
						<li><a href="http://geoloqi.com/blog">Blog</a></li>
						<li><a href="https://status.geoloqi.com/">API Status</a></li>
						<li><a href="http://geoloqi.com/privacy">Privacy</a></li>
						<li><a href="https://developers.geoloqi.com/contact">Contact Us</a></li>
					</ul>
				</nav>
				<small>&copy; Copyright 2010-2012 <a href="http://esri.com">Environmental Systems Research Institute, Inc.</a> and contributors.</small>
			</section>
			
		</div>
	</div>
</footer>

    <script>
      var dojoConfig = {
        async: true,
        packages: [{
          name: "loqi",
          location: "/js/loqi"
        },{ 
          name: "arcgis",
          location: "/js/arcgis"
        }]
      };
    </script>
    
    
		
    <script src="/js/libs/underscore-min.js"></script>
    <script src='/assets/main.840806.js'></script>

    
	</body>
</html><script src="https://geoloqi.com/offline/geoloqi.js"></script>
